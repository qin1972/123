<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高级验证系统</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #e0e0e0;
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }
        
        .container {
            width: 100%;
            max-width: 800px;
            text-align: center;
            padding: 20px;
        }
        
        .stage {
            display: none;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
        }
        
        .stage.active {
            display: block;
            opacity: 1;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 5px;
            color: #bb86fc;
        }
        
        .math-problem {
            background-color: #1e1e1e;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            margin-bottom: 30px;
        }
        
        .problem-text {
            font-size: 1.8rem;
            margin-bottom: 20px;
        }
        
        input[type="text"] {
            width: 200px;
            padding: 15px;
            font-size: 1.2rem;
            background-color: #2d2d2d;
            border: 1px solid #bb86fc;
            color: white;
            border-radius: 5px;
            text-align: center;
        }
        
        button {
            padding: 15px 30px;
            font-size: 1.2rem;
            background-color: #bb86fc;
            color: black;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }
        
        button:hover {
            background-color: #9a67ea;
            transform: translateY(-2px);
        }
        
        .final-message {
            font-size: 3rem;
            color: #ff7597;
            text-shadow: 0 0 10px rgba(255, 117, 151, 0.5);
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from {
                text-shadow: 0 0 10px rgba(255, 117, 151, 0.5);
            }
            to {
                text-shadow: 0 0 20px rgba(255, 117, 151, 0.8), 0 0 30px rgba(255, 117, 151, 0.6);
            }
        }
        
        .progress-bar {
            width: 100%;
            height: 5px;
            background-color: #2d2d2d;
            margin-bottom: 30px;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: #bb86fc;
            width: 0%;
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="progress-bar">
            <div class="progress" id="progressBar"></div>
        </div>
        
        <div class="stage active" id="stage1">
            <h1>第一道验证</h1>
            <div class="math-problem">
                <div class="problem-text">解方程: x² - 5x + 6 = 0</div>
                <input type="text" id="answer1" placeholder="输入答案，用逗号分隔">
                <button onclick="checkAnswer(1)">验证</button>
            </div>
        </div>
        
        <div class="stage" id="stage2">
            <h1>第二道验证</h1>
            <div class="math-problem">
                <div class="problem-text">计算: ∫(从0到1) x² dx</div>
                <input type="text" id="answer2" placeholder="输入答案">
                <button onclick="checkAnswer(2)">验证</button>
            </div>
        </div>
        
        <div class="stage" id="stage3">
            <h1>最终验证</h1>
            <div class="math-problem">
                <div class="problem-text">求极限: lim(x→∞) (1 + 1/x)ˣ</div>
                <input type="text" id="answer3" placeholder="输入答案">
                <button onclick="checkAnswer(3)">验证</button>
            </div>
        </div>
        
        <div class="stage" id="finalStage">
            <div class="final-message">逗你的啥也没有<br>傻子陈顺冉</div>
        </div>
    </div>

    <script>
        const problems = [
            { answer: "2,3", explanation: "方程的解为x=2和x=3" },
            { answer: "1/3", explanation: "积分结果为1/3" },
            { answer: "e", explanation: "这是自然常数e的定义" }
        ];
        
        let currentStage = 1;
        const totalStages = 3;
        
        function checkAnswer(stageNum) {
            const inputElement = document.getElementById(`answer${stageNum}`);
            const userAnswer = inputElement.value.trim();
            const correctAnswer = problems[stageNum - 1].answer;
            
            // 处理多答案情况
            const userAnswers = userAnswer.split(',').map(a => a.trim());
            const correctAnswers = correctAnswer.split(',').map(a => a.trim());
            
            let isCorrect = false;
            
            // 检查是否所有正确答案都包含在用户答案中
            if (userAnswers.length === correctAnswers.length) {
                isCorrect = correctAnswers.every(ans => 
                    userAnswers.includes(ans)
                );
            }
            
            if (isCorrect) {
                // 更新进度条
                const progressPercent = (stageNum / totalStages) * 100;
                document.getElementById('progressBar').style.width = `${progressPercent}%`;
                
                // 切换到下一阶段
                document.getElementById(`stage${currentStage}`).classList.remove('active');
                currentStage++;
                
                if (currentStage <= totalStages) {
                    document.getElementById(`stage${currentStage}`).classList.add('active');
                } else {
                    // 所有问题答对，显示最终信息
                    document.getElementById('finalStage').classList.add('active');
                    
                    // 添加特效
                    setTimeout(() => {
                        document.body.style.background = "linear-gradient(135deg, #121212, #1e1e1e)";
                        const finalMsg = document.querySelector('.final-message');
                        finalMsg.style.animation = "glow 1s infinite alternate";
                    }, 500);
                }
            } else {
                alert(`答案错误！提示: ${problems[stageNum - 1].explanation}`);
                inputElement.value = '';
                inputElement.focus();
            }
        }
    </script>
</body>
</html>
